{% load bootstrap4 %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta de Produtos</title>
    {% bootstrap_css %}
</head>
<body>
    <div class="container">
      {% if produtos %}
    <h1>Consulta de Produtos</h1>
    <table class="table table-dark">
        <thead>
            <tr>
              <th scope="col">Código</th>
              <th scope="col">Nome Produto</th>
              <th scope="col">Descrição</th>
              <th scope="col">Quantidade</th>
              <th scope="col">Valor</th>
            </tr>
          </thead>
          <tbody>
            {% for produto in produtos%}
                <tr>
                    <td scope="row">{{produto.codigo}}</td>
                    <td scope="row"><a href="#modal{{produto.codigo}}" data-toggle="modal">{{ produto.nome }}</a></td>
                    <td scope="row">{{produto.descricao}}</td>
                    <td scope="row">{{produto.quantidade}}</td>
                    <td scope="row">{{produto.valor}}</td>
                </tr>
                <div class="modal fade bd-example-modal-lg show" id="modal{{produto.codigo}}" role="dialog">
                  <div class="modal-dialog">
                      <div class="modal-content">
                          <div class="modal-header">
                              <button type="button" class="close" data-dismiss="modal">
                                  <span aria-hidden="true">&times;</span>
                              </button>
                          </div>
                          <div class="modal-body" id="dynamic-content">
                              <img src='{{ produto.imagem.url }}' class='img-fluid' alt='{{ produto.nome }}'/>
                          </div>
                        </div>
                    </div>
                  </div>
            {% endfor %}
          </tbody>
    </table>
    {% else %}
        <h2>Ainda não existem produtos cadastrados. :(</h2>
    {% endif %}
  </div>
{% bootstrap_javascript jquery='full' %}    
</body>
</html>